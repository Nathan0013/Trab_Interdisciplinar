<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu de Jogos</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer></script>
</head>
<body>
    <h1>Bem-vindo ao Site de Jogos</h1>

    <div class="dropdown">
        <button class="dropbtn">Jogos</button>
        <div class="dropdown-content">
            <a href="#" onclick="verificarCadastro('jogo_memoria.html')">Jogo da Memória</a>
            <a href="#" onclick="verificarCadastro('jogo_forca.html')">Jogo da Forca</a>
            <a href="#" onclick="verificarCadastro('resp_perg.html')">Jogo de Perguntas e Respostas</a>
        </div>
    </div>
    <script>
        // Função para verificar cadastro e redirecionar
        function verificarCadastro(jogoUrl) {
            // Verifica se há um token de sessão (usuário logado)
            const token = sessionStorage.getItem("token");
            
            if (token) {
                // Usuário já está logado, redireciona diretamente para o jogo
                window.location.href = '../jogos/' + jogoUrl;
            } else {
                // Usuário não está logado, salva o jogo selecionado e redireciona para login
                localStorage.setItem('jogoSelecionado', '../jogos/' + jogoUrl);
                window.location.href = '../cadastro/tela_cadastro.html';
            }
        }
        </script>

</body>
</html>